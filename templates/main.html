<!-- Defines the document type and version of HTML -->
<!DOCTYPE html>
<!-- Root element of the HTML document with language set to English -->
<html lang="en">
<head>
    <!-- Character encoding declaration -->
    <meta charset="UTF-8">
    <!-- Title of the webpage, shown in the browser tab -->
    <title>Math Tutor</title>
    <!-- Ensures proper display and scaling on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link to external CSS file for styling -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <!-- Main container holding all webpage content -->
    <div class="container">
        <!-- Page title -->
        <h1 class="page-title">Math Tutor</h1>

        <!-- Left Column (Sidebar with list of topics) -->
        <div class="sidebar">
            <h3>Select a Topic</h3>
            <ul id="topic-list">
                <!-- Each list item triggers fetchData() with the respective topic -->
                <li onclick="fetchData('real_numbers')">Real Numbers</li>
                <li onclick="fetchData('order_of_operations')">Order of Operations</li>
                <li onclick="fetchData('absolute_value')">Absolute Value</li>
                <li onclick="fetchData('exponents')">Exponents</li>
                <li onclick="fetchData('linear_equations')">Linear Equations</li>
                <li onclick="fetchData('graphing_lines')">Graphing Lines</li>
                <li onclick="fetchData('inequalities')">Inequalities</li>
                <li onclick="fetchData('scientific_notation')">Scientific Notation</li>
                <li onclick="fetchData('polynomials')">Polynomials</li>
                <li onclick="fetchData('factoring')">Factoring</li>
            </ul>
        </div>

        <!-- Middle Column (Definition Display Area) -->
        <div class="definition-container">
            <h3>Definition</h3>
            <!-- Area where the definition will be displayed -->
            <p id="definition"></p>
            <!-- Button to play the definition as audio -->
            <button id="play-audio" onclick="playDefinition()">üîä Play Audio</button>
            <!-- Button to stop the audio playback -->
            <button id="stop-audio" onclick="stopAudio()">‚èπ Stop Audio</button>
            <!-- Progress bar for tracking audio playback progress -->
            <div class="audio-progress-container">
                <progress id="audio-progress" value="0" max="100"></progress>
                <span id="audio-percentage">0%</span>
            </div>
        </div>

        <!-- Right Column (Chat Box) -->
        <div class="chat-container">
            <h3>Chat with Tutor</h3>
            <!-- Area where chat messages appear -->
            <div class="chat-box" id="chatBox">
                <div class="typing-indicator" id="typing" style="display: none;">Tutor is typing...</div>
            </div>
            <!-- Input field and button for sending chat messages -->
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Ask your math question...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Include your existing JavaScript file -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <!-- Marked.js library for parsing Markdown content -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- MathJax library for rendering LaTeX mathematical expressions -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</body>
</html>